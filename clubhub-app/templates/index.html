{% extends "base.html" %}

{% block title %}Events · ClubHub{% endblock %}

{% block content %}
<section class="hero">
  <h2>Upcoming events</h2>
  <p>Plan, promote, and track club gatherings with a streamlined workflow.</p>
</section>

<section class="event-grid">
  {% if events %}
    {% for event in events %}
      <article class="event-card">
        <header>
          <h3><a href="{{ url_for('main.event_detail', event_id=event.id) }}">{{ event.title }}</a></h3>
          <p class="muted">{{ event.location }}</p>
        </header>
        <p>{{ event.description[:160] }}{% if event.description|length > 160 %}&hellip;{% endif %}</p>
        <ul class="event-meta">
          <li><strong>Starts:</strong> {{ event.start_time.strftime('%b %d, %Y %I:%M %p') }}</li>
          <li><strong>Ends:</strong> {{ event.end_time.strftime('%b %d, %Y %I:%M %p') }}</li>
          {% if event.capacity %}
            <li><strong>Seats left:</strong> {{ event.spots_remaining if event.spots_remaining is not none else '—' }}</li>
          {% endif %}
        </ul>
      </article>
    {% endfor %}
  {% else %}
    <div class="empty-state">
      <p>No events scheduled yet. <a href="{{ url_for('main.create_event') }}">Create the first event.</a></p>
    </div>
  {% endif %}
</section>
{% endblock %}
